{"ast":null,"code":"import _slicedToArray from\"/home/aaruni/Public/new/workflow-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useCallback,useEffect}from'react';import ReactFlow,{addEdge,useNodesState,useEdgesState,Background,useReactFlow}from'reactflow';import'reactflow/dist/base.css';import\"./ReactFlowSection.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialNodes=[{id:'1',type:'input',data:{label:'input node'},position:{x:0,y:5},style:{fontSize:'10px',color:'rgb(67, 67, 67)',borderRadius:'3px',padding:'4px',width:'8rem',textAlign:'center',backgroundColor:\"rgb(231, 231, 255)\",border:'1px solid rgb(231, 231, 231)'}}];var initialEdges=[];var id=-5;var getId=function getId(){return\"dndnode_\".concat(id++);};var ReactFlowSection=function ReactFlowSection(){var reactFlowWrapper=useRef(null);var _useNodesState=useNodesState(initialNodes),_useNodesState2=_slicedToArray(_useNodesState,3),nodes=_useNodesState2[0],setNodes=_useNodesState2[1],onNodesChange=_useNodesState2[2];var _useEdgesState=useEdgesState(initialEdges),_useEdgesState2=_slicedToArray(_useEdgesState,3),edges=_useEdgesState2[0],setEdges=_useEdgesState2[1],onEdgesChange=_useEdgesState2[2];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),reactFlowInstance=_useState2[0],setReactFlowInstance=_useState2[1];var getNodes=useReactFlow();var onConnect=useCallback(function(params){return setEdges(function(eds){return addEdge(params,eds);});},[setEdges]);var onDragOver=useCallback(function(event){event.preventDefault();event.dataTransfer.dropEffect='move';},[]);var nodeStyle={border:'1px solid red',width:'10rem',backgroundColor:'rgb(231, 231, 255',borderRadius:'3px'};var connectedStyle={border:'1px solid black',width:'10rem',backgroundColor:'rgb(231, 231, 255',borderRadius:'3px'};useEffect(function(){edges.forEach(function(edge){var srcNode=nodes.find(function(node){return node.id===edge.target;});srcNode.style=connectedStyle;});},[edges]);var onDrop=useCallback(function(event){event.preventDefault();var reactFlowBounds=reactFlowWrapper.current.getBoundingClientRect();var data=JSON.parse(event.dataTransfer.getData('application/reactflow'));var position=reactFlowInstance.project({x:event.clientX-reactFlowBounds.left,y:event.clientY-reactFlowBounds.top});var newNode={id:getId(),type:'default',position:position,style:nodeStyle,data:{label:/*#__PURE__*/_jsxs(\"div\",{className:\"dragged_body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dragg _output\",children:data.input}),/*#__PURE__*/_jsx(\"div\",{className:\"dragg _name\",children:data.name}),/*#__PURE__*/_jsx(\"div\",{className:\"dragg _input\",children:data.output})]})}};setNodes(function(nds){return nds.concat(newNode);});},[reactFlowInstance]);return/*#__PURE__*/_jsx(\"div\",{className:\"dndflow\",children:/*#__PURE__*/_jsx(\"div\",{className:\"reactflow-wrapper\",ref:reactFlowWrapper,children:/*#__PURE__*/_jsx(ReactFlow,{nodes:nodes,edges:edges,onNodesChange:onNodesChange,onEdgesChange:onEdgesChange,onConnect:onConnect,onInit:setReactFlowInstance,onDrop:onDrop,onDragOver:onDragOver,fitView:true,Background:true,children:/*#__PURE__*/_jsx(Background,{})})})});};export default ReactFlowSection;","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","ReactFlow","addEdge","useNodesState","useEdgesState","Background","useReactFlow","jsx","_jsx","jsxs","_jsxs","initialNodes","id","type","data","label","position","x","y","style","fontSize","color","borderRadius","padding","width","textAlign","backgroundColor","border","initialEdges","getId","concat","ReactFlowSection","reactFlowWrapper","_useNodesState","_useNodesState2","_slicedToArray","nodes","setNodes","onNodesChange","_useEdgesState","_useEdgesState2","edges","setEdges","onEdgesChange","_useState","_useState2","reactFlowInstance","setReactFlowInstance","getNodes","onConnect","params","eds","onDragOver","event","preventDefault","dataTransfer","dropEffect","nodeStyle","connectedStyle","forEach","edge","srcNode","find","node","target","onDrop","reactFlowBounds","current","getBoundingClientRect","JSON","parse","getData","project","clientX","left","clientY","top","newNode","className","children","input","name","output","nds","ref","onInit","fitView"],"sources":["/home/aaruni/Public/new/workflow-app/src/Components/ReactFlowSection.jsx"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport ReactFlow, {\n  addEdge,\n  useNodesState,\n  useEdgesState,\n  Background,\n  useReactFlow\n} from 'reactflow';\nimport 'reactflow/dist/base.css';\nimport \"./ReactFlowSection.css\"\n\n\nconst initialNodes = [\n  {\n    id: '1',\n    type: 'input',\n    data: { label: 'input node' },\n    position: { x: 0, y: 5 },\n    style: {\n      fontSize: '10px',\n      color: 'rgb(67, 67, 67)',\n      borderRadius: '3px',\n      padding: '4px',\n      width: '8rem',\n      textAlign: 'center',\n      backgroundColor: `rgb(231, 231, 255)`,\n      border: '1px solid rgb(231, 231, 231)'\n    }\n  },\n];\n\nconst initialEdges = [];\n\nlet id = -5;\nconst getId = () => `dndnode_${id++}`;\n\nconst ReactFlowSection = () => {\n\n  const reactFlowWrapper = useRef(null);\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n  const [reactFlowInstance, setReactFlowInstance] = useState(null);\n  const getNodes = useReactFlow()\n\n\n  const onConnect = useCallback((params) => setEdges((eds) => addEdge(params, eds)), [setEdges]);\n\n\n  const onDragOver = useCallback((event) => {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'move';\n\n  }, []);\n\n  const nodeStyle = {\n    border: '1px solid red',\n    width: '10rem',\n    backgroundColor: 'rgb(231, 231, 255',\n    borderRadius: '3px'\n\n  }\n\n  const connectedStyle = {\n    border: '1px solid black',\n    width: '10rem',\n    backgroundColor: 'rgb(231, 231, 255',\n    borderRadius: '3px'\n\n  }\n\n  useEffect(() => {\n\n    edges.forEach(edge => {\n      const srcNode = nodes.find(node => node.id === edge.target)\n      srcNode.style = connectedStyle \n    })\n\n  },[edges])\n\n\n  const onDrop = useCallback(\n    (event) => {\n      event.preventDefault();\n\n      const reactFlowBounds = reactFlowWrapper.current.getBoundingClientRect();\n      const data = JSON.parse(event.dataTransfer.getData('application/reactflow'))\n\n\n      const position = reactFlowInstance.project({\n        x: event.clientX - reactFlowBounds.left,\n        y: event.clientY - reactFlowBounds.top,\n      });\n\n      const newNode = {\n        id: getId(),\n        type: 'default',\n        position,\n        style: nodeStyle,\n        data: {\n          label:\n            <div className='dragged_body'>\n              <div className='dragg _output'>{data.input}</div>\n              <div className='dragg _name'>{data.name}</div>\n              <div className='dragg _input'>{data.output}</div>\n            </div>\n        },\n      };\n\n      setNodes((nds) => nds.concat(newNode));\n    },\n    [reactFlowInstance]\n  );\n\n  return (\n    <div className=\"dndflow\">\n      <div className=\"reactflow-wrapper\" ref={reactFlowWrapper}>\n        <ReactFlow\n          nodes={nodes}\n          edges={edges}\n          onNodesChange={onNodesChange}\n          onEdgesChange={onEdgesChange}\n          onConnect={onConnect}\n          onInit={setReactFlowInstance}\n          onDrop={onDrop}\n          onDragOver={onDragOver}\n          fitView\n          Background\n        >\n          <Background />\n        </ReactFlow>\n      </div>\n    </div>\n  );\n};\n\nexport default ReactFlowSection;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}